<ng-container>
  <!-- Filter -->
  <div fxLayout="row" fxLayoutAlign="space-between center" fxLayout.xs="column">
    <div *ngIf="tableParameters.isFilterable">
      <mat-form-field appearance="standard">
        <mat-label>Buscar</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Filtro" />
      </mat-form-field>
    </div>
    <div *ngIf="tableParameters.createdButton">
      <button
        mat-raised-button
        color="primary"
        (click)="createItem(null, 'add')">
        <mat-icon>add</mat-icon> Nuevo
      </button>
    </div>
  </div>

  <table
    mat-table
    [dataSource]="_dataSource"
    matSort
    (matSortChange)="sortTable($event)">
    <ng-container
      *ngFor="let c of tableParameters.columns"
      [matColumnDef]="c.caption">
      <ng-container *ngIf="c.isSortable; else notSortable">
        <th mat-header-cell *matHeaderCellDef [mat-sort-header]="c.caption">
          {{ c.caption }}
        </th>
      </ng-container>
      <ng-template #notSortable>
        <th mat-header-cell *matHeaderCellDef>
          {{ c.caption }}
        </th>
      </ng-template>

      <div *ngIf="c.type !== 'checkbox'; else esCheckbox">
        <td mat-cell *matCellDef="let element">
          {{ propertyAccess(element, c.field) }}
        </td>
      </div>
      <ng-template #esCheckbox>
        <td mat-cell *matCellDef="let element">
          <mat-checkbox
            [disabled]="true"
            [checked]="element[c.field]"></mat-checkbox>
        </td>
      </ng-template>
    </ng-container>
    <ng-container *ngIf="tableParameters.buttons" matColumnDef="actions">
      <ng-container>
        <th mat-header-cell *matHeaderCellDef>Acciones</th>
      </ng-container>
      <td mat-cell *matCellDef="let element">
        <div class="example-button-row">
          <button
            mat-mini-fab
            *ngFor="let button of tableParameters.buttons"
            [color]="button.color"
            (click)="emitRowAction(element, button.action)">
            <mat-icon>{{ button.icon }}</mat-icon>
          </button>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <!-- Pagination -->
  <mat-paginator
    *ngIf="tableParameters.tablePagination.isPageable"
    [pageSizeOptions]="tableParameters.tablePagination.paginationSizes"
    [pageSize]="tableParameters.tablePagination.defaultPageSize"
    showFirstLastButtons>
  </mat-paginator>
</ng-container>
